<div class="post-content pretty-link">
{{ $prevYear := 0 }}
{{ range .Pages.ByPublishDate.Reverse }}
    {{if ne $prevYear (.Date.Format "2006")}}
        <h2>{{ .Date.Format "2006" }}</h2>
    {{end}}
    <p>
        <a href="{{ .RelPermalink }}">{{- if not .Date.IsZero -}}
            {{- (slice (.Date.Format (default "January 2" .Site.Params.DateFormat))) }}
            {{- end -}}<br>- {{ .Title }}</a>
    </p>
    {{ $prevYear = .Date.Format "2006"}}
{{ end }}
</div>